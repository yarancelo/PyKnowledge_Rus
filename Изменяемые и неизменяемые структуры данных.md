В Python [[Типы данных|типы данных]] бывают изменяемыми и неизменяемыми. Это очень частая причина возникновения различных багов, связанных с изменением контейнеров, которые логически не должны были быть изменены.
```Python
x = 10
y = x

print(id(x), id(y))
print(id(x) == id(y))
```
```
140736881820872 140736881820872
True
```
Пример выше иллюстрирует, что переменные X и Y в действительности являются одной и той же переменной, и что "y" это по сути, альтернативное имя для "x". Но, при попытке изменить значение переменной, она будет скопирована в другую ячейку памяти и мы увидим, что переменные стали разными:
```python
x = 10
y = x
y += 1
print(id(x), id(y))
print(id(x) == id(y))
```
```
140736881820872 140736881820904
False
```

### **Копирование [[Строка|строк]]**
Строки сами по себе в языке Python являются объектами неизменяемыми. Любой метод, изменяющий строку, на самом деле, возвращает новую строку:
```python
str_1 = "hello world"
str_2 = str_1.upper()

print(str_1, str_2)
print(id(str_1), id(str_2))
print(id(str_1) == id(str_2))
```
```
hello world HELLO WORLD
2577810797424 2577810798448
False
```

После того, как был вызван метод upper(), произошло копирование строки в другую ячейку данных.

### **Копирование [[Список|списков]]**
Попробуем создать список, скопировать его и изменить.
```python
list_1 = [1, 2, 3, 4]
list_2 = list_1
list_1.append(5)

print(list_1, list_2)
print(id(list_1), id(list_2))
print(id(list_1) == id(list_2))
```
```
[1, 2, 3, 4, 5] [1, 2, 3, 4, 5]
2042539303040 2042539303040
True
```

В этом примере мы видим, что копируя список мы делаем лишь альтернативное имя для него, но при этом, изменяя изначальный список, его копия не начинает жить своей жизнью, а остается связана.
Для того, чтобы именно получить копию списка, воспользуемся методом copy() у списка:
```Python
list_1 = [1, 2, 3, 4]
list_2 = list_1.copy()
list_1.append(5)

print(list_1, list_2)
print(id(list_1), id(list_2))
print(id(list_1) == id(list_2))
```
```
[1, 2, 3, 4, 5] [1, 2, 3, 4]
3114802110592 3114802259200
False
```

Теперь, как мы видим из вывода в консоль, списки стали действительно разными.
### **Копирование [[Словарь|словарей]]**
Попытаемся скопировать словарь также как мы это делали со списком:
```python
dict_1 = {
  "name": "Vova",
  "dick length": 23
}

dict_2 = dict_1
dict_1["age"] = 22

print(dict_1, dict_2)
print(id(dict_1), id(dict_2))
print(id(dict_1) == id(dict_2))
```
```
{'name': 'Vova', 'dick length': 23, 'age': 22} {'name': 'Vova', 'dick length': 23, 'age': 22}
2894830034816 2894830034816
True
```

Видим точно такой же результат, словарь был скопирован, добавилось лишь альтернативное имя для него. Можем также воспользоваться методом словаря copy()
```
{'name': 'Vova', 'dick length': 23, 'age': 22} {'name': 'Vova', 'dick length': 23}
1772222340992 1772222751680
False
```
Данный метод помог нам сделать копию исходного словаря.

### **Копирование вложенных структур данных**
Создадим словарь и вложим в него список, после чего скопируем словарь, изменим один из созданных и проверим как это отразится на другом словаре:
```Python
dict_1 = {
  "name": "Vova",
  "favourite colors": ["green", "blue"]
}

dict_2 = dict_1.copy()
dict_2["favourite colors"].append("yellow")

print(dict_1, dict_2)
print(id(dict_1), id(dict_2))
print(id(dict_1) == id(dict_2))
```
```
{'name': 'Vova', 'favourite colors': ['green', 'blue', 'yellow']} {'name': 'Vova', 'favourite colors': ['green', 'blue', 'yellow']}
2714488201088 2714488611776
False
```

Несмотря на то, что сам словарь был скопирован, изменение списка в одном из словарей привело к изменению списка в другом словаре, то есть при копировании структуры, у структур внутри нее метод copy() не вызывается. Для того, чтобы такого не происходило, мы можем использовать функцию deepcopy() из [[Модуль copy|встроенного модуля copy()]].
```python
from copy import deepcopy

dict_1 = {
  "name": "Vova",
  "favourite colors": ["green", "blue"]
}

dict_2 = deepcopy(dict_1)
dict_2["favourite colors"].append("yellow")

print(dict_1, dict_2)
print(id(dict_1), id(dict_2))
print(id(dict_1) == id(dict_2))
```
```
{'name': 'Vova', 'favourite colors': ['green', 'blue']} {'name': 'Vova', 'favourite colors': ['green', 'blue', 'yellow']}
2403187173952 2403187174848
False
```

Теперь мы видим, что структура и все другие структуры, вложенные в нее были правильно скопированы.